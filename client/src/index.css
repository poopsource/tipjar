@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* iOS-optimized color system */
  --ios-primary: 211 100% 50%;      /* iOS Blue */
  --ios-secondary: 211 20% 50%;     /* Muted Blue */
  --ios-success: 142 70% 45%;       /* iOS Green */
  --ios-warning: 48 100% 50%;       /* iOS Yellow */
  --ios-danger: 0 100% 50%;         /* iOS Red */
  --ios-gray: 210 10% 23%;          /* iOS Gray */
  --ios-background: 210 20% 98%;    /* Light Background */
  --ios-surface: 0 0% 100%;         /* White Surface */
  
  /* Material Design 3 Color System - Dark Theme */
  --md-sys-color-primary: 120 70% 75%;      /* Spring green */
  --md-sys-color-on-primary: 180 35% 25%;   /* Dark text on primary */
  --md-sys-color-primary-container: 180 22% 30%;
  --md-sys-color-on-primary-container: 0 0% 96%;
  
  --md-sys-color-secondary: 196 63% 77%;    /* Spring blue */
  --md-sys-color-on-secondary: 180 35% 25%;
  --md-sys-color-secondary-container: 180 30% 17%;
  --md-sys-color-on-secondary-container: 0 0% 96%;
  
  --md-sys-color-tertiary: 340 60% 67%;     /* Spring accent */
  --md-sys-color-on-tertiary: 180 35% 25%;
  --md-sys-color-tertiary-container: 180 20% 35%;
  --md-sys-color-on-tertiary-container: 0 0% 96%;
  
  --md-sys-color-surface: 180 25% 25%;      /* Main background */
  --md-sys-color-on-surface: 0 0% 96%;
  --md-sys-color-surface-variant: 180 22% 30%;
  --md-sys-color-on-surface-variant: 0 0% 96%;
  
  --md-sys-color-outline: 180 20% 35%;
  --md-sys-color-outline-variant: 180 20% 40%;
  
  /* iOS-specific spacing */
  --ios-spacing-2xs: 4px;
  --ios-spacing-xs: 8px;
  --ios-spacing-sm: 12px;
  --ios-spacing-md: 16px;
  --ios-spacing-lg: 24px;
  --ios-spacing-xl: 32px;
  --ios-spacing-2xl: 40px;
  
  /* iOS-specific border radius */
  --ios-radius-sm: 6px;
  --ios-radius-md: 8px;
  --ios-radius-lg: 12px;
  --ios-radius-xl: 16px;
  --ios-radius-full: 9999px;
  
  /* iOS Safe Areas */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
}

@layer base {
  * {
    @apply border-border antialiased;
    -webkit-tap-highlight-color: transparent;
  }
  
  html {
    -webkit-text-size-adjust: 100%;
  }
  
  body {
    @apply bg-background text-foreground min-h-screen;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;
    padding-top: var(--safe-area-inset-top);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);
    padding-right: var(--safe-area-inset-right);
  }
  
  /* iOS Typography Scale */
  h1 {
    @apply text-2xl sm:text-3xl font-semibold leading-tight tracking-tight;
  }
  
  h2 {
    @apply text-xl sm:text-2xl font-semibold leading-tight;
  }
  
  h3 {
    @apply text-lg sm:text-xl font-medium leading-snug;
  }
  
  p {
    @apply text-base leading-relaxed;
  }
  
  small {
    @apply text-sm leading-normal;
  }
  
  /* iOS Touch Target Sizes */
  button, 
  [role="button"],
  a {
    @apply min-h-[44px] min-w-[44px] cursor-pointer select-none;
    touch-action: manipulation;
  }
  
  /* iOS Form Elements */
  input,
  select,
  textarea {
    @apply appearance-none;
    font-size: 16px; /* Prevent iOS zoom on focus */
  }
}

@layer components {
  .ios-card {
    @apply bg-card text-card-foreground rounded-[var(--ios-radius-lg)] shadow-sm;
    min-height: 44px;
  }
  
  .ios-button {
    @apply flex items-center justify-center px-4 py-3 rounded-full font-medium 
           transition-all duration-300 active:scale-95 disabled:opacity-50
           min-h-[44px] min-w-[44px] select-none;
  }
  
  .ios-button-primary {
    @apply ios-button bg-[hsl(var(--primary))] text-[hsl(var(--primary-foreground))];
  }
  
  .ios-button-secondary {
    @apply ios-button bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))];
  }
  
  .ios-input {
    @apply h-11 w-full px-4 rounded-lg border border-input bg-background 
           focus:outline-none focus:ring-2 focus:ring-ring text-base;
    min-height: 44px;
  }
  
  .ios-label {
    @apply block text-sm font-medium mb-2 select-none;
  }
  
  .ios-safe-area {
    padding-top: var(--safe-area-inset-top);
    padding-bottom: var(--safe-area-inset-bottom);
    padding-left: var(--safe-area-inset-left);
    padding-right: var(--safe-area-inset-right);
  }
}

/* iOS-specific Animations */
@keyframes ios-press {
  0% { transform: scale(1); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

.animate-ios-press {
  animation: ios-press 300ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* iOS-specific Shadows */
.ios-shadow-sm {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.ios-shadow-md {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 
              0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

.ios-shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
              0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* iOS-specific Media Queries */
@media (max-width: 390px) {
  /* iPhone 12/13/14 Mini */
  :root {
    --ios-spacing-md: 12px;
    --ios-spacing-lg: 20px;
  }
}

@media (min-width: 391px) and (max-width: 428px) {
  /* iPhone 12/13/14 Pro Max */
  :root {
    --ios-spacing-md: 16px;
    --ios-spacing-lg: 24px;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}